<!-- <style>
#sampleForm,
#sampleOutput {
    width: 500px;
    margin: 10px;
    padding: 10px;
    border: 1px solid gray;
    border-radius: 10px;
}
#sampleForm {
    background-color: #f0f8ff;
}
#sampleOutput {
    background-color: #00ffff;
}
#sampleForm * {
    margin: 0 0 7px 0;
    vertical-align: text-top;
}
</style> -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<script type="text/javascript">
// window.onload = function () {
//     getValue();
//     var $formObject = document.getElementById( "sampleForm" );
//     for( var $i = 0; $i < $formObject.length; $i++ ) {
//         $formObject.elements[$i].onkeyup = function(){
//             getValue();
//         };
//         $formObject.elements[$i].onchange = function(){
//             getValue();
//         };
//     }
//     document.getElementById( "sampleOutputLength" ).innerHTML = $formObject.length;
// }
// function getValue() {
//     var $formObject = document.getElementById( "sampleForm" );
//     document.getElementById( "sampleOutputName" ).innerHTML = $formObject.formName.value;
//     document.getElementById( "sampleOutputArea" ).innerHTML = $formObject.formArea.value;
//     document.getElementById( "sampleOutputAge" ).innerHTML = $formObject.formAge.value;
//     document.getElementById( "sampleOutputComent" ).innerHTML = $formObject.formComent.value;
//     document.getElementById( "sampleOutputVersion" ).innerHTML = $formObject.formVersion.value;
//     document.getElementById( "sampleOutputAuthor" ).innerHTML = $formObject.formAuthor.value;
// }
    
  function copyToClipboard() {
        // コピー対象をJavaScript上で変数として定義する
        var copyTarget = document.getElementById("sampleInputedList");
        // コピー対象のテキストを選択する
        copyTarget.select();
        // 選択しているテキストをクリップボードにコピーする
        document.execCommand("Copy");
        // コピーをお知らせする
        alert("コピーできました！ : " + copyTarget.value);
 }
    
function buildData() {
   var name = document.getElementById('mapName').value;
   var version = document.getElementById('mapVersion').value;
   var author = document.getElementById('mapAuthor').value;
   var gametime = document.getElementById('mapGameTime').value;
    
   var startfeather = document.getElementById('mapStartFeather').value;
   var startbone = document.getElementById('mapStartBone').value;
   var startegg = document.getElementById('mapStartEgg').value;
    
   var autoend = document.getElementById('mapAutoEnd').value;
   var autorejail = document.getElementById('mapAutoRejail').value;
    
    var xml = "";
    xml += '<map>\n';
    xml += '  <name>' + name + '</name>\n';
    xml += '  <version>' + version + '</version>\n';
    xml += '  <authors>\n';
    xml += '    <author>' + author + '</author>\n';
    xml += '  </authors>\n';
    xml += '  <time>' + gametime + '</time>\n';
    xml += '  <start>\n';
    xml += '    <feather>' + startfeather + '</feather>\n';
    xml += '    <bone>' + startbone + '</bone>\n';
    xml += '    <egg>' + startegg + '</egg>\n';
    xml += '  </start>\n';
    xml += '  <auto_end>' + autoend + '</auto_end>\n';
    xml += '  <auto_rejail>' + autorejail + '</auto_rejail>\n';
    xml += '</map>\n';
    
    document.getElementById('sampleInputedList').value = xml;
}
    
</script>

<body>
  <div id="wrapper">
    <div class="container"> <img src="https://project-rfm.net/public/images/rfm/title.png" style="width:70%;height:auto;" /><br>
      <div class="content">
        <div class="card-deck">
          <div class="card">
            <div class="card-header">
              <h3>設定</h3>
            </div>
            <div class="card-body">
              <form id="sampleForm">
                  <div class="form-group">
                   MapName：<input type="text" name="formName" id="mapName" value="TestMap"> <br/> 
                   </div>
                  <div class="form-group">
                      version：<input type="text" name="formVersion" id="mapVersion" value="1.0.0"> <br/> 
                  </div>
                   <div class="form-group">
                      Author：<input type="text" name="formAuthor" id="mapAuthor" value="p_rfm"> <br/> 
                   </div>
                  <div class="form-group">
                      ゲーム時間: <input type="number" min="10" id="mapGameTime" value="25"> <br/> 
                   </div>
                      自動終了： <select name="formArea" id="mapAutoEnd">
            　　　　　　　　　　　　　<option selected>false</option>
            　　　　　　　　　　　　　<option>true</option>
       　　　　　　　　　　　　　　 </select> <br/> 
                      自動復活： <select name="formAge" id="mapAutoRejail">
            　　　　　　　　　　　　　<option selected>false</option>
            　　　　　　　　　　　　　<option>true</option>
        　　　　　　　　　　　　　</select> <br/> 
                      コメント：<textarea name="formComent">コメント</textarea> <br/> 
                <input type="button" value="出力" onclick="buildData();"> 
                </form>
            </div>
          </div>
            
        <div class="card">
            <div class="card-header">
              <h3>アイテム設定</h3>
            </div>
            <div class="card-body">
              <form id="sampleForm">
                  <div class="form-group">
                      羽: <input type="number" min="0" id="mapStartFeather" value="10"> 
                      骨: <input type="number" min="0" id="mapStartBone" value="10"> 
                      卵: <input type="number" min="0" id="mapStartEgg" value="10"> <br/> 
                      </div>
                <input type="button" value="出力" onclick="buildData();"> 
                </form>
            </div>
          </div>
            
        </div>
      </div>
        
      <div class="content">
        <div class="card-deck">
          <form>
            <div id="sampleOutput"> <textarea cols="40" rows="30" id="sampleInputedList" readonly></textarea> <button onclick="copyToClipboard()">コピーする</button> </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
