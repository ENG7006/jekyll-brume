<!-- <style>
#sampleForm,
#sampleOutput {
    width: 500px;
    margin: 10px;
    padding: 10px;
    border: 1px solid gray;
    border-radius: 10px;
}
#sampleForm {
    background-color: #f0f8ff;
}
#sampleOutput {
    background-color: #00ffff;
}
#sampleForm * {
    margin: 0 0 7px 0;
    vertical-align: text-top;
}
</style> -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<script type="text/javascript">
// window.onload = function () {
//     getValue();
//     var $formObject = document.getElementById( "sampleForm" );
//     for( var $i = 0; $i < $formObject.length; $i++ ) {
//         $formObject.elements[$i].onkeyup = function(){
//             getValue();
//         };
//         $formObject.elements[$i].onchange = function(){
//             getValue();
//         };
//     }
//     document.getElementById( "sampleOutputLength" ).innerHTML = $formObject.length;
// }
// function getValue() {
//     var $formObject = document.getElementById( "sampleForm" );
//     document.getElementById( "sampleOutputName" ).innerHTML = $formObject.formName.value;
//     document.getElementById( "sampleOutputArea" ).innerHTML = $formObject.formArea.value;
//     document.getElementById( "sampleOutputAge" ).innerHTML = $formObject.formAge.value;
//     document.getElementById( "sampleOutputComent" ).innerHTML = $formObject.formComent.value;
//     document.getElementById( "sampleOutputVersion" ).innerHTML = $formObject.formVersion.value;
//     document.getElementById( "sampleOutputAuthor" ).innerHTML = $formObject.formAuthor.value;
// }
    
  function copyToClipboard() {
        // コピー対象をJavaScript上で変数として定義する
        var copyTarget = document.getElementById("sampleInputedList");
        // コピー対象のテキストを選択する
        copyTarget.select();
        // 選択しているテキストをクリップボードにコピーする
        document.execCommand("Copy");
        // コピーをお知らせする
        alert("クリップボードに保存しました");
 }
    
function buildData() {
   var name = document.getElementById('mapName').value;
   var version = document.getElementById('mapVersion').value;
   var author = document.getElementById('mapAuthor').value;
   var gametime = document.getElementById('mapGameTime').value;
    
   var startfeather = document.getElementById('mapStartFeather').value;
   var startbone = document.getElementById('mapStartBone').value;
   var startegg = document.getElementById('mapStartEgg').value;
    
   var rejailfeather = document.getElementById('mapRejailFeather').value;
   var rejailbone = document.getElementById('mapRejailBone').value;
   var rejailegg = document.getElementById('mapRejailEgg').value;
  
   var rejaillimit = document.getElementById('mapRejailLimit').value;
   var autoend = document.getElementById('mapAutoEnd').value;
   var autorejail = document.getElementById('mapAutoRejail').value;
   var watch = document.getElementById('mapWatch').value;
    
    var xml = "";
    xml += '<map>\n';
    xml += '  <name>' + name + '</name>\n';
    xml += '  <version>' + version + '</version>\n';
    xml += '  <authors>\n';
    xml += '    <author>' + author + '</author>\n';
    xml += '  </authors>\n';
    xml += '  <time>' + gametime + '</time>\n';
    xml += '  <start>\n';
    xml += '    <feather>' + startfeather + '</feather>\n';
    xml += '    <bone>' + startbone + '</bone>\n';
    xml += '    <egg>' + startegg + '</egg>\n';
    xml += '  </start>\n';
    xml += '  <rejail>\n';
    xml += '    <feather>' + rejailfeather + '</feather>\n';
    xml += '    <bone>' + rejailbone + '</bone>\n';
    xml += '    <egg>' + rejailegg + '</egg>\n';
    xml += '  </rejail>\n';
    xml += '  <rejailcount>' + rejaillimit + '</rejailcount>\n';
    xml += '  <auto_end>' + autoend + '</auto_end>\n';
    xml += '  <auto_rejail>' + autorejail + '</auto_rejail>\n';
    xml += '  <watch>' + watch + '</watch>\n';
    xml += '</map>\n';
    
    document.getElementById('sampleInputedList').value = xml;
}
    
</script>

<body>
  <div id="wrapper">
    <div class="container"> <img src="https://project-rfm.net/public/images/rfm/title.png" style="width:100%;height:auto;" /><br>
      <div class="content">
        <div class="card-deck">
          <div class="card">
            <div class="card-header">
              <h3>マップ設定</h3>
            </div>
            <div class="card-body">
              <form id="sampleForm">
                  <div class="form-group">
                   MapName：<input type="text"  class="form-control" name="formName" id="mapName" value="TestMap"> <br/> 
                   </div>
                  <div class="form-group">
                      version：<input type="text" class="form-control" name="formVersion" id="mapVersion" value="1.0.0"> <br/> 
                  </div>
                   <div class="form-group">
                      Author：<input type="text" class="form-control" name="formAuthor" id="mapAuthor" value="p_rfm"> <br/> 
                   </div>
                </form>
            </div>
          </div>
            
         <div class="card">
            <div class="card-header">
              <h3>ゲーム設定</h3>
            </div>
            <div class="card-body">
              <form id="sampleForm">
                 <div class="form-group">
                    <label>復活可能回数</label></br>
                     <input type="number" min="1" max="15" id="mapRejailLimit" value="10" class="form-control"> <br/> 
                </div>
                  <div class="form-group">
                      ゲーム時間: <input type="number" class="form-control" min="10" id="mapGameTime" value="25"> <br/> 
                   </div>
                  <div class="form-group">
                      ゲーム自動終了： 
                      <select name="formArea" id="mapAutoEnd" class="form-control">
            　　　　　　　　　　　　　<option selected>true</option>
            　　　　　　　　　　　　　<option>false</option>
       　　　　　　　　　　　　　　 </select> <br/> 
                    </div>
                   <div class="form-group">
                      自動復活： 
                       <select name="formAge" id="mapAutoRejail" class="form-control">
            　　　　　　　　　　　　　<option selected>true</option>
            　　　　　　　　　　　　　<option>false</option>
        　　　　　　　　　　　　　</select> <br/> 
                   </div>
                
                  <div class="form-group">
                      観戦/Watch： 
                       <select id="mapWatch" class="form-control">
            　　　　　　　　　　<option selected>true</option>
            　　　　　　　　　　<option>false</option>
        　　　　　　　　 </select><br/> 
                    </div>
                
                 <div class="form-group">
                      フィールド/Field： 
                       <input type="number" class="form-control" min="0" max="2" id="mapField" value="0">
                     <small id="mapStartItem" class="form-text text-muted">0:平穏 1:温暖 2:寒冷 指定以外の数値は強制的に平穏になります</small>
                 </div>
                
                      コメント：<textarea name="formComent">コメント</textarea> <br/> 
                </form>
            </div>
          </div>

        <div class="card">
            <div class="card-header">
              <h3>アイテム設定</h3>
            </div>
            <div class="card-body">
              <form id="sampleForm">
                  <div class="form-group">
                    <label>ゲーム開始時</label></br>
                      羽: <input type="number" min="0" max="10" id="mapStartFeather" value="10" class="form-control"> 
                      骨: <input type="number" min="0" max="10" id="mapStartBone" value="10" class="form-control"> 
                      卵: <input type="number" min="0" max="10" id="mapStartEgg" value="10" class="form-control"> <br/> 
                      <small id="mapStartItem" class="form-text text-muted">ゲーム開始時に配布されるアイテムの個数です。ゲームバランスを考えて設定してください。</small>
                   </div>
                  <div class="form-group">
                    <label>復活時</label></br>
                      羽: <input type="number" min="0" max="10" id="mapRejailFeather" value="10" class="form-control"> 
                      骨: <input type="number" min="0" max="10" id="mapRejailBone" value="10" class="form-control"> 
                      卵: <input type="number" min="0" max="10" id="mapRejailEgg" value="10" class="form-control"> <br/> 
                <small id="mapRejailItem" class="form-text text-muted">復活時に配布されるアイテムの個数です。開始時よりも多くならないように設定してください。</small>
                   </div>
                </form>
            </div>
          </div>
            
        </div>
      </div>
        
     <form>
         <input type="button" value="出力" onclick="buildData();"> 
      </form>
        
       <div class="content">
        <div class="card-deck">
          <div class="card">
            <div class="card-header">
              <h3>map.xml</h3>
            </div>
            <div class="card-body">
          <form>
            <div id="sampleOutput"> 
               <textarea  class="form-control" rows="20" id="sampleInputedList" readonly></textarea> 
                <button onclick="copyToClipboard()">コピーする</button> 
             </div>
          </form>
        </div>
              </div>
            </div>
           </div>
      </div>
    </div>
  </div>

</body>
